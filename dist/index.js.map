{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { assert } from '@ember/debug';\nimport { isPresent } from '@ember/utils';\nimport { importSync } from '@embroider/macros';\nimport type { IValidationError } from './utils/validation-error.ts';\n\ntype DateTimeFormatOptions = Parameters<typeof Intl.DateTimeFormat>[1];\n\ntype IValidator = (\n  value: unknown,\n  options: Record<\n    string,\n    boolean | number | string | Date | DateTimeFormatOptions\n  >,\n  _model: object,\n  attribute: string,\n) => true | IValidationError<unknown, object>;\n\ntype KnownValidator =\n  | 'collection'\n  | 'confirmation'\n  | 'date'\n  | 'ds-error'\n  | 'exclusion'\n  | 'format'\n  | 'inclusion'\n  | 'length'\n  | 'messages'\n  | 'number'\n  | 'presence';\n\nexport function validate(\n  type: KnownValidator,\n  ...args: Parameters<IValidator>\n): true | IValidationError<unknown, object> {\n  let validator;\n\n  if (type === 'collection') {\n    validator = import_collection();\n  } else if (type === 'confirmation') {\n    validator = import_confirmation();\n  } else if (type === 'date') {\n    validator = import_date();\n  } else if (type === 'ds-error') {\n    validator = import_ds_error();\n  } else if (type === 'exclusion') {\n    validator = import_exclusion();\n  } else if (type === 'format') {\n    validator = import_format();\n  } else if (type === 'inclusion') {\n    validator = import_inclusion();\n  } else if (type === 'length') {\n    validator = import_length();\n  } else if (type === 'messages') {\n    validator = import_messages();\n  } else if (type === 'number') {\n    validator = import_number();\n  } else if (type === 'presence') {\n    validator = import_presence();\n  }\n\n  assert(`Validator not found of type: ${type}.`, isPresent(validator));\n\n  return (validator as { default: IValidator }).default(...args);\n}\n\nfunction import_collection() {\n  return importSync('./collection');\n}\n\nfunction import_confirmation() {\n  return importSync('./confirmation');\n}\n\nfunction import_date() {\n  return importSync('./date');\n}\n\nfunction import_ds_error() {\n  return importSync('./ds-error');\n}\n\nfunction import_exclusion() {\n  return importSync('./exclusion');\n}\n\nfunction import_format() {\n  return importSync('./format');\n}\n\nfunction import_inclusion() {\n  return importSync('./inclusion');\n}\n\nfunction import_length() {\n  return importSync('./length');\n}\n\nfunction import_messages() {\n  return importSync('./messages');\n}\n\nfunction import_number() {\n  return importSync('./number');\n}\n\nfunction import_presence() {\n  return importSync('./presence');\n}\n"],"names":["validate","type","args","validator","import_collection","import_confirmation","import_date","import_ds_error","import_exclusion","import_format","import_inclusion","import_length","import_messages","import_number","import_presence","assert","isPresent","default","importSync"],"mappings":";;;;AA8BO,SAASA,QAAQA,CACtBC,IAAoB,EACpB,GAAGC,IAA4B,EACW;AAC1C,EAAA,IAAIC,SAAS;EAEb,IAAIF,IAAI,KAAK,YAAY,EAAE;IACzBE,SAAS,GAAGC,iBAAiB,EAAE;AACjC,GAAC,MAAM,IAAIH,IAAI,KAAK,cAAc,EAAE;IAClCE,SAAS,GAAGE,mBAAmB,EAAE;AACnC,GAAC,MAAM,IAAIJ,IAAI,KAAK,MAAM,EAAE;IAC1BE,SAAS,GAAGG,WAAW,EAAE;AAC3B,GAAC,MAAM,IAAIL,IAAI,KAAK,UAAU,EAAE;IAC9BE,SAAS,GAAGI,eAAe,EAAE;AAC/B,GAAC,MAAM,IAAIN,IAAI,KAAK,WAAW,EAAE;IAC/BE,SAAS,GAAGK,gBAAgB,EAAE;AAChC,GAAC,MAAM,IAAIP,IAAI,KAAK,QAAQ,EAAE;IAC5BE,SAAS,GAAGM,aAAa,EAAE;AAC7B,GAAC,MAAM,IAAIR,IAAI,KAAK,WAAW,EAAE;IAC/BE,SAAS,GAAGO,gBAAgB,EAAE;AAChC,GAAC,MAAM,IAAIT,IAAI,KAAK,QAAQ,EAAE;IAC5BE,SAAS,GAAGQ,aAAa,EAAE;AAC7B,GAAC,MAAM,IAAIV,IAAI,KAAK,UAAU,EAAE;IAC9BE,SAAS,GAAGS,eAAe,EAAE;AAC/B,GAAC,MAAM,IAAIX,IAAI,KAAK,QAAQ,EAAE;IAC5BE,SAAS,GAAGU,aAAa,EAAE;AAC7B,GAAC,MAAM,IAAIZ,IAAI,KAAK,UAAU,EAAE;IAC9BE,SAAS,GAAGW,eAAe,EAAE;AAC/B;EAEAC,MAAM,CAAC,gCAAgCd,IAAI,CAAA,CAAA,CAAG,EAAEe,SAAS,CAACb,SAAS,CAAC,CAAC;AAErE,EAAA,OAAQA,SAAS,CAA6Bc,OAAO,CAAC,GAAGf,IAAI,CAAC;AAChE;AAEA,SAASE,iBAAiBA,GAAG;EAC3B,OAAOc,UAAU,CAAC,cAAc,CAAC;AACnC;AAEA,SAASb,mBAAmBA,GAAG;EAC7B,OAAOa,UAAU,CAAC,gBAAgB,CAAC;AACrC;AAEA,SAASZ,WAAWA,GAAG;EACrB,OAAOY,UAAU,CAAC,QAAQ,CAAC;AAC7B;AAEA,SAASX,eAAeA,GAAG;EACzB,OAAOW,UAAU,CAAC,YAAY,CAAC;AACjC;AAEA,SAASV,gBAAgBA,GAAG;EAC1B,OAAOU,UAAU,CAAC,aAAa,CAAC;AAClC;AAEA,SAAST,aAAaA,GAAG;EACvB,OAAOS,UAAU,CAAC,UAAU,CAAC;AAC/B;AAEA,SAASR,gBAAgBA,GAAG;EAC1B,OAAOQ,UAAU,CAAC,aAAa,CAAC;AAClC;AAEA,SAASP,aAAaA,GAAG;EACvB,OAAOO,UAAU,CAAC,UAAU,CAAC;AAC/B;AAEA,SAASN,eAAeA,GAAG;EACzB,OAAOM,UAAU,CAAC,YAAY,CAAC;AACjC;AAEA,SAASL,aAAaA,GAAG;EACvB,OAAOK,UAAU,CAAC,UAAU,CAAC;AAC/B;AAEA,SAASJ,eAAeA,GAAG;EACzB,OAAOI,UAAU,CAAC,YAAY,CAAC;AACjC;;;;"}